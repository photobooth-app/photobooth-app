(function(){"use strict";function xt(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Tt=Object.assign,Ot=Object.prototype.hasOwnProperty,H=(t,e)=>Ot.call(t,e),x=Array.isArray,K=t=>rt(t)==="[object Map]",It=t=>typeof t=="function",Mt=t=>typeof t=="string",T=t=>typeof t=="symbol",O=t=>t!==null&&typeof t=="object",Pt=Object.prototype.toString,rt=t=>Pt.call(t),jt=t=>rt(t).slice(8,-1),L=t=>Mt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,I=(t,e)=>!Object.is(t,e);let At,st=0,B;function N(){st++}function Y(){if(--st>0)return;let t;for(;B;){let e=B;for(B=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}let W=!0;const it=[];function Et(){it.push(W),W=!1}function Kt(){const t=it.pop();W=t===void 0?!0:t}class ot{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){}trigger(e){this.version++,this.notify(e)}notify(e){N();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Y()}}}const z=new WeakMap,S=Symbol(""),G=Symbol(""),M=Symbol("");function d(t,e,n){if(W&&At){let i=z.get(t);i||z.set(t,i=new Map);let r=i.get(n);r||(i.set(n,r=new ot),r.map=i,r.key=n),r.track()}}function w(t,e,n,i,r,s){const o=z.get(t);if(!o)return;const a=c=>{c&&c.trigger()};if(N(),e==="clear")o.forEach(a);else{const c=x(t),l=c&&L(n);if(c&&n==="length"){const h=Number(i);o.forEach((f,p)=>{(p==="length"||p===M||!T(p)&&p>=h)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),l&&a(o.get(M)),e){case"add":c?l&&a(o.get("length")):(a(o.get(S)),K(t)&&a(o.get(G)));break;case"delete":c||(a(o.get(S)),K(t)&&a(o.get(G)));break;case"set":K(t)&&a(o.get(S));break}}Y()}function y(t){const e=u(t);return e===t?e:(d(e,"iterate",M),v(t)?e:e.map(g))}function V(t){return d(t=u(t),"iterate",M),t}function b(t,e){return m(t)?_t(t)?j(g(e)):j(e):g(e)}const Wt={__proto__:null,[Symbol.iterator](){return $(this,Symbol.iterator,t=>b(this,t))},concat(...t){return y(this).concat(...t.map(e=>x(e)?y(e):e))},entries(){return $(this,"entries",t=>(t[1]=b(this,t[1]),t))},every(t,e){return _(this,"every",t,e,void 0,arguments)},filter(t,e){return _(this,"filter",t,e,n=>n.map(i=>b(this,i)),arguments)},find(t,e){return _(this,"find",t,e,n=>b(this,n),arguments)},findIndex(t,e){return _(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return _(this,"findLast",t,e,n=>b(this,n),arguments)},findLastIndex(t,e){return _(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return _(this,"forEach",t,e,void 0,arguments)},includes(...t){return U(this,"includes",t)},indexOf(...t){return U(this,"indexOf",t)},join(t){return y(this).join(t)},lastIndexOf(...t){return U(this,"lastIndexOf",t)},map(t,e){return _(this,"map",t,e,void 0,arguments)},pop(){return P(this,"pop")},push(...t){return P(this,"push",t)},reduce(t,...e){return at(this,"reduce",t,e)},reduceRight(t,...e){return at(this,"reduceRight",t,e)},shift(){return P(this,"shift")},some(t,e){return _(this,"some",t,e,void 0,arguments)},splice(...t){return P(this,"splice",t)},toReversed(){return y(this).toReversed()},toSorted(t){return y(this).toSorted(t)},toSpliced(...t){return y(this).toSpliced(...t)},unshift(...t){return P(this,"unshift",t)},values(){return $(this,"values",t=>b(this,t))}};function $(t,e,n){const i=V(t),r=i[e]();return i!==t&&!v(t)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.done||(s.value=n(s.value)),s}),r}const Dt=Array.prototype;function _(t,e,n,i,r,s){const o=V(t),a=o!==t&&!v(t),c=o[e];if(c!==Dt[e]){const f=c.apply(t,s);return a?g(f):f}let l=n;o!==t&&(a?l=function(f,p){return n.call(this,b(t,f),p,t)}:n.length>2&&(l=function(f,p){return n.call(this,f,p,t)}));const h=c.call(o,l,i);return a&&r?r(h):h}function at(t,e,n,i){const r=V(t);let s=n;return r!==t&&(v(t)?n.length>3&&(s=function(o,a,c){return n.call(this,o,a,c,t)}):s=function(o,a,c){return n.call(this,o,b(t,a),c,t)}),r[e](s,...i)}function U(t,e,n){const i=u(t);d(i,"iterate",M);const r=i[e](...n);return(r===-1||r===!1)&&Qt(n[0])?(n[0]=u(n[0]),i[e](...n)):r}function P(t,e,n=[]){Et(),N();const i=u(t)[e].apply(t,n);return Y(),Kt(),i}const Ct=xt("__proto__,__v_isRef,__isVue"),ct=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(T));function Ft(t){T(t)||(t=String(t));const e=u(this);return d(e,"has",t),e.hasOwnProperty(t)}class ut{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?Ut:ht:s?$t:ft).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=x(e);if(!r){let c;if(o&&(c=Wt[n]))return c;if(n==="hasOwnProperty")return Ft}const a=Reflect.get(e,n,R(e)?e:i);if((T(n)?ct.has(n):Ct(n))||(r||d(e,"get",n),s))return a;if(R(a)){const c=o&&L(n)?a:a.value;return r&&O(c)?J(c):c}return O(a)?r?J(a):dt(a):a}}class Ht extends ut{constructor(e=!1){super(!1,e)}set(e,n,i,r){let s=e[n];const o=x(e)&&L(n);if(!this._isShallow){const l=m(s);if(!v(i)&&!m(i)&&(s=u(s),i=u(i)),!o&&R(s)&&!R(i))return l||(s.value=i),!0}const a=o?Number(n)<e.length:H(e,n),c=Reflect.set(e,n,i,R(e)?e:r);return e===u(r)&&(a?I(i,s)&&w(e,"set",n,i):w(e,"add",n,i)),c}deleteProperty(e,n){const i=H(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&w(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!T(n)||!ct.has(n))&&d(e,"has",n),i}ownKeys(e){return d(e,"iterate",x(e)?"length":S),Reflect.ownKeys(e)}}class Lt extends ut{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Bt=new Ht,Nt=new Lt,q=t=>t,D=t=>Reflect.getPrototypeOf(t);function Yt(t,e,n){return function(...i){const r=this.__v_raw,s=u(r),o=K(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=r[t](...i),h=n?q:e?j:g;return!e&&d(s,"iterate",c?G:S),{next(){const{value:f,done:p}=l.next();return p?{value:f,done:p}:{value:a?[h(f[0]),h(f[1])]:h(f),done:p}},[Symbol.iterator](){return this}}}}function C(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function zt(t,e){const n={get(r){const s=this.__v_raw,o=u(s),a=u(r);t||(I(r,a)&&d(o,"get",r),d(o,"get",a));const{has:c}=D(o),l=e?q:t?j:g;if(c.call(o,r))return l(s.get(r));if(c.call(o,a))return l(s.get(a));s!==o&&s.get(r)},get size(){const r=this.__v_raw;return!t&&d(u(r),"iterate",S),r.size},has(r){const s=this.__v_raw,o=u(s),a=u(r);return t||(I(r,a)&&d(o,"has",r),d(o,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const o=this,a=o.__v_raw,c=u(a),l=e?q:t?j:g;return!t&&d(c,"iterate",S),a.forEach((h,f)=>r.call(s,l(h),l(f),o))}};return Tt(n,t?{add:C("add"),set:C("set"),delete:C("delete"),clear:C("clear")}:{add(r){!e&&!v(r)&&!m(r)&&(r=u(r));const s=u(this);return D(s).has.call(s,r)||(s.add(r),w(s,"add",r,r)),this},set(r,s){!e&&!v(s)&&!m(s)&&(s=u(s));const o=u(this),{has:a,get:c}=D(o);let l=a.call(o,r);l||(r=u(r),l=a.call(o,r));const h=c.call(o,r);return o.set(r,s),l?I(s,h)&&w(o,"set",r,s):w(o,"add",r,s),this},delete(r){const s=u(this),{has:o,get:a}=D(s);let c=o.call(s,r);c||(r=u(r),c=o.call(s,r)),a&&a.call(s,r);const l=s.delete(r);return c&&w(s,"delete",r,void 0),l},clear(){const r=u(this),s=r.size!==0,o=r.clear();return s&&w(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Yt(r,t,e)}),n}function lt(t,e){const n=zt(t,e);return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(H(n,r)&&r in i?n:i,r,s)}const Gt={get:lt(!1,!1)},Vt={get:lt(!0,!1)},ft=new WeakMap,$t=new WeakMap,ht=new WeakMap,Ut=new WeakMap;function qt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jt(t){return t.__v_skip||!Object.isExtensible(t)?0:qt(jt(t))}function dt(t){return m(t)?t:pt(t,!1,Bt,Gt,ft)}function J(t){return pt(t,!0,Nt,Vt,ht)}function pt(t,e,n,i,r){if(!O(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=Jt(t);if(s===0)return t;const o=r.get(t);if(o)return o;const a=new Proxy(t,s===2?i:n);return r.set(t,a),a}function _t(t){return m(t)?_t(t.__v_raw):!!(t&&t.__v_isReactive)}function m(t){return!!(t&&t.__v_isReadonly)}function v(t){return!!(t&&t.__v_isShallow)}function Qt(t){return t?!!t.__v_raw:!1}function u(t){const e=t&&t.__v_raw;return e?u(e):t}const g=t=>O(t)?dt(t):t,j=t=>O(t)?J(t):t;function R(t){return t?t.__v_isRef===!0:!1}function Xt(t){return Zt(t,!1)}function Zt(t,e){return R(t)?t:new kt(t,e)}class kt{constructor(e,n){this.dep=new ot,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:u(e),this._value=n?e:g(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||v(e)||m(e);e=i?e:u(e),I(e,n)&&(this._rawValue=e,this._value=i?e:g(e),this.dep.trigger())}}function te(t){return R(t)?t.value:t}function ee(t){return It(t)?t():te(t)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const gt=()=>{};function ne(t,e){function n(...i){return new Promise((r,s)=>{Promise.resolve(t(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(r).catch(s)})}return n}function re(...t){let e=0,n,i=!0,r=gt,s,o,a,c,l;!R(t[0])&&typeof t[0]=="object"?{delay:o,trailing:a=!0,leading:c=!0,rejectOnCancel:l=!1}=t[0]:[o,a=!0,c=!0,l=!1]=t;const h=()=>{n&&(clearTimeout(n),n=void 0,r(),r=gt)};return p=>{const F=ee(o),St=Date.now()-e,nt=()=>s=p();return h(),F<=0?(e=Date.now(),nt()):(St>F?(e=Date.now(),(c||!i)&&nt()):a&&(s=new Promise((yt,ce)=>{r=l?ce:yt,n=setTimeout(()=>{e=Date.now(),i=!0,yt(nt()),h()},Math.max(0,F-St))})),!c&&!n&&(n=setTimeout(()=>i=!0,F)),i=!1,s)}}function se(t,e=200,n=!1,i=!0,r=!1){return ne(re(e,n,i,r),t)}let Q,X,wt,bt,A=null,Z=!1;const mt=Xt(500);let k=0,tt=0,et=0,vt=performance.now(),E=[];self.onmessage=async t=>{t.data.type==="init"?(Q=t.data.canvases.plain,X=t.data.canvases.aug,wt=Q.getContext("2d",{alpha:!1}),bt=X.getContext("2d",{alpha:!1}),mt.value=t.data.blurredbackgroundHighFramerate===!0?50:300):t.data.type==="frame"&&(A&&et++,A=t.data.payload,oe())};const Rt=(t,e,n)=>{(t.width!=n.width||t.height!=n.height)&&(t.width=n.width,t.height=n.height),e.drawImage(n,0,0)},ie=se((t,e,n)=>{Rt(t,e,n)},mt);async function oe(){if(Z||!A)return;const t=A;A=null,Z=!0;try{const e=new Blob([t],{type:"image/jpeg"}),n=performance.now(),i=await createImageBitmap(e),r=performance.now();E.push(r-n),Rt(Q,wt,i),k++,ie(X,bt,i),tt++,i.close()}catch(e){console.error("Decode error:",e)}finally{Z=!1,ae()}}function ae(){const t=performance.now();if(t-vt>=1e3){const e=k,n=tt,i=E.length?E.reduce((r,s)=>r+s,0)/E.length:0;self.postMessage({type:"stats",fpsPlain:e,fpsAug:n,dropped:et,avgDecode:i.toFixed(1)}),k=tt=et=0,E=[],vt=t}}})();

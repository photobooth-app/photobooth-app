import{T as K,bq as w,aH as y,bF as x,a4 as U,br as b,bd as S,bt as j,as as O,bG as R,ak as k,aa as ee,b0 as te,B as ne,c as P,w as ie,A,W as re,aG as oe,Y as H,a_ as ue}from"./index-OPp8kL3S.js";import{c as W}from"./selection-StKXEuh4.js";const L={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},se=Object.keys(L);L.all=!0;function B(i){const n={};for(const o of se)i[o]===!0&&(n[o]=!0);return Object.keys(n).length===0?L:(n.horizontal===!0?n.left=n.right=!0:n.left===!0&&n.right===!0&&(n.horizontal=!0),n.vertical===!0?n.up=n.down=!0:n.up===!0&&n.down===!0&&(n.vertical=!0),n.horizontal===!0&&n.vertical===!0&&(n.all=!0),n)}const ae=["INPUT","TEXTAREA"];function D(i,n){return n.event===void 0&&i.target!==void 0&&i.target.draggable!==!0&&typeof n.handler=="function"&&ae.includes(i.target.nodeName.toUpperCase())===!1&&(i.qClonedBy===void 0||i.qClonedBy.indexOf(n.uid)===-1)}function N(i,n,o){const c=S(i);let t,e=c.left-n.event.x,r=c.top-n.event.y,l=Math.abs(e),a=Math.abs(r);const s=n.direction;s.horizontal===!0&&s.vertical!==!0?t=e<0?"left":"right":s.horizontal!==!0&&s.vertical===!0?t=r<0?"up":"down":s.up===!0&&r<0?(t="up",l>a&&(s.left===!0&&e<0?t="left":s.right===!0&&e>0&&(t="right"))):s.down===!0&&r>0?(t="down",l>a&&(s.left===!0&&e<0?t="left":s.right===!0&&e>0&&(t="right"))):s.left===!0&&e<0?(t="left",l<a&&(s.up===!0&&r<0?t="up":s.down===!0&&r>0&&(t="down"))):s.right===!0&&e>0&&(t="right",l<a&&(s.up===!0&&r<0?t="up":s.down===!0&&r>0&&(t="down")));let p=!1;if(t===void 0&&o===!1){if(n.event.isFirst===!0||n.event.lastDir===void 0)return{};t=n.event.lastDir,p=!0,t==="left"||t==="right"?(c.left-=e,l=0,e=0):(c.top-=r,a=0,r=0)}return{synthetic:p,payload:{evt:i,touch:n.event.mouse!==!0,mouse:n.event.mouse===!0,position:c,direction:t,isFirst:n.event.isFirst,isFinal:o===!0,duration:Date.now()-n.event.time,distance:{x:l,y:a},offset:{x:e,y:r},delta:{x:c.left-n.event.lastX,y:c.top-n.event.lastY}}}}let le=0;const me=K({name:"touch-pan",beforeMount(i,{value:n,modifiers:o}){if(o.mouse!==!0&&y.has.touch!==!0)return;function c(e,r){o.mouse===!0&&r===!0?k(e):(o.stop===!0&&O(e),o.prevent===!0&&j(e))}const t={uid:"qvtp_"+le++,handler:n,modifiers:o,direction:B(o),noop:U,mouseStart(e){D(e,t)&&R(e)&&(b(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(e,!0))},touchStart(e){if(D(e,t)){const r=e.target;b(t,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),t.start(e)}},start(e,r){if(y.is.firefox===!0&&x(i,!0),t.lastEvt=e,r===!0||o.stop===!0){if(t.direction.all!==!0&&(r!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const s=e.type.indexOf("mouse")!==-1?new MouseEvent(e.type,e):new TouchEvent(e.type,e);e.defaultPrevented===!0&&j(s),e.cancelBubble===!0&&O(s),Object.assign(s,{qKeyEvent:e.qKeyEvent,qClickOutside:e.qClickOutside,qAnchorHandled:e.qAnchorHandled,qClonedBy:e.qClonedBy===void 0?[t.uid]:e.qClonedBy.concat(t.uid)}),t.initialEvent={target:e.target,event:s}}O(e)}const{left:l,top:a}=S(e);t.event={x:l,y:a,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:l,lastY:a}},move(e){if(t.event===void 0)return;const r=S(e),l=r.left-t.event.x,a=r.top-t.event.y;if(l===0&&a===0)return;t.lastEvt=e;const s=t.event.mouse===!0,p=()=>{c(e,s);let v;o.preserveCursor!==!0&&o.preservecursor!==!0&&(v=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),s===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),W(),t.styleCleanup=m=>{if(t.styleCleanup=void 0,v!==void 0&&(document.documentElement.style.cursor=v),document.body.classList.remove("non-selectable"),s===!0){const C=()=>{document.body.classList.remove("no-pointer-events--children")};m!==void 0?setTimeout(()=>{C(),m()},50):C()}else m!==void 0&&m()}};if(t.event.detected===!0){t.event.isFirst!==!0&&c(e,t.event.mouse);const{payload:v,synthetic:m}=N(e,t,!1);v!==void 0&&(t.handler(v)===!1?t.end(e):(t.styleCleanup===void 0&&t.event.isFirst===!0&&p(),t.event.lastX=v.position.left,t.event.lastY=v.position.top,t.event.lastDir=m===!0?void 0:v.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||s===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){p(),t.event.detected=!0,t.move(e);return}const h=Math.abs(l),d=Math.abs(a);h!==d&&(t.direction.horizontal===!0&&h>d||t.direction.vertical===!0&&h<d||t.direction.up===!0&&h<d&&a<0||t.direction.down===!0&&h<d&&a>0||t.direction.left===!0&&h>d&&l<0||t.direction.right===!0&&h>d&&l>0?(t.event.detected=!0,t.move(e)):t.end(e,!0))},end(e,r){if(t.event!==void 0){if(w(t,"temp"),y.is.firefox===!0&&x(i,!1),r===!0)t.styleCleanup?.(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(N(e===void 0?t.lastEvt:e,t).payload);const{payload:l}=N(e===void 0?t.lastEvt:e,t,!0),a=()=>{t.handler(l)};t.styleCleanup!==void 0?t.styleCleanup(a):a()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(i.__qtouchpan=t,o.mouse===!0){const e=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";b(t,"main",[[i,"mousedown","mouseStart",`passive${e}`]])}y.has.touch===!0&&b(t,"main",[[i,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[i,"touchmove","noop","notPassiveCapture"]])},updated(i,n){const o=i.__qtouchpan;o!==void 0&&(n.oldValue!==n.value&&(typeof value!="function"&&o.end(),o.handler=n.value),o.direction=B(n.modifiers))},beforeUnmount(i){const n=i.__qtouchpan;n!==void 0&&(n.event!==void 0&&n.end(),w(n,"main"),w(n,"temp"),y.is.firefox===!0&&x(i,!1),n.styleCleanup?.(),delete i.__qtouchpan)}});function de(i){const n=[.06,6,50];return typeof i=="string"&&i.length&&i.split(":").forEach((o,c)=>{const t=parseFloat(o);t&&(n[c]=t)}),n}const ce=K({name:"touch-swipe",beforeMount(i,{value:n,arg:o,modifiers:c}){if(c.mouse!==!0&&y.has.touch!==!0)return;const t=c.mouseCapture===!0?"Capture":"",e={handler:n,sensitivity:de(o),direction:B(c),noop:U,mouseStart(r){D(r,e)&&R(r)&&(b(e,"temp",[[document,"mousemove","move",`notPassive${t}`],[document,"mouseup","end","notPassiveCapture"]]),e.start(r,!0))},touchStart(r){if(D(r,e)){const l=r.target;b(e,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","notPassiveCapture"],[l,"touchend","end","notPassiveCapture"]]),e.start(r)}},start(r,l){y.is.firefox===!0&&x(i,!0);const a=S(r);e.event={x:a.left,y:a.top,time:Date.now(),mouse:l===!0,dir:!1}},move(r){if(e.event===void 0)return;if(e.event.dir!==!1){k(r);return}const l=Date.now()-e.event.time;if(l===0)return;const a=S(r),s=a.left-e.event.x,p=Math.abs(s),h=a.top-e.event.y,d=Math.abs(h);if(e.event.mouse!==!0){if(p<e.sensitivity[1]&&d<e.sensitivity[1]){e.end(r);return}}else if(window.getSelection().toString()!==""){e.end(r);return}else if(p<e.sensitivity[2]&&d<e.sensitivity[2])return;const v=p/l,m=d/l;e.direction.vertical===!0&&p<d&&p<100&&m>e.sensitivity[0]&&(e.event.dir=h<0?"up":"down"),e.direction.horizontal===!0&&p>d&&d<100&&v>e.sensitivity[0]&&(e.event.dir=s<0?"left":"right"),e.direction.up===!0&&p<d&&h<0&&p<100&&m>e.sensitivity[0]&&(e.event.dir="up"),e.direction.down===!0&&p<d&&h>0&&p<100&&m>e.sensitivity[0]&&(e.event.dir="down"),e.direction.left===!0&&p>d&&s<0&&d<100&&v>e.sensitivity[0]&&(e.event.dir="left"),e.direction.right===!0&&p>d&&s>0&&d<100&&v>e.sensitivity[0]&&(e.event.dir="right"),e.event.dir!==!1?(k(r),e.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),W(),e.styleCleanup=C=>{e.styleCleanup=void 0,document.body.classList.remove("non-selectable");const E=()=>{document.body.classList.remove("no-pointer-events--children")};C===!0?setTimeout(E,50):E()}),e.handler({evt:r,touch:e.event.mouse!==!0,mouse:e.event.mouse,direction:e.event.dir,duration:l,distance:{x:p,y:d}})):e.end(r)},end(r){e.event!==void 0&&(w(e,"temp"),y.is.firefox===!0&&x(i,!1),e.styleCleanup?.(!0),r!==void 0&&e.event.dir!==!1&&k(r),e.event=void 0)}};if(i.__qtouchswipe=e,c.mouse===!0){const r=c.mouseCapture===!0||c.mousecapture===!0?"Capture":"";b(e,"main",[[i,"mousedown","mouseStart",`passive${r}`]])}y.has.touch===!0&&b(e,"main",[[i,"touchstart","touchStart",`passive${c.capture===!0?"Capture":""}`],[i,"touchmove","noop","notPassiveCapture"]])},updated(i,n){const o=i.__qtouchswipe;o!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&o.end(),o.handler=n.value),o.direction=B(n.modifiers))},beforeUnmount(i){const n=i.__qtouchswipe;n!==void 0&&(w(n,"main"),w(n,"temp"),y.is.firefox===!0&&x(i,!1),n.styleCleanup?.(),delete i.__qtouchswipe)}});function pe(){let i=Object.create(null);return{getCache:(n,o)=>i[n]===void 0?i[n]=typeof o=="function"?o():o:i[n],setCache(n,o){i[n]=o},hasCache(n){return Object.hasOwnProperty.call(i,n)},clearCache(n){n!==void 0?delete i[n]:i=Object.create(null)}}}const he={name:{required:!0},disable:Boolean},I={setup(i,{slots:n}){return()=>A("div",{class:"q-panel scroll",role:"tabpanel"},H(n.default))}},ye={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ge=["update:modelValue","beforeTransition","transition"];function be(){const{props:i,emit:n,proxy:o}=ee(),{getCache:c}=pe(),{registerTimeout:t}=te();let e,r;const l=ne(null),a={value:null};function s(u){const f=i.vertical===!0?"up":"left";q((o.$q.lang.rtl===!0?-1:1)*(u.direction===f?1:-1))}const p=P(()=>[[ce,s,void 0,{horizontal:i.vertical!==!0,vertical:i.vertical,mouse:!0}]]),h=P(()=>i.transitionPrev||`slide-${i.vertical===!0?"down":"right"}`),d=P(()=>i.transitionNext||`slide-${i.vertical===!0?"up":"left"}`),v=P(()=>`--q-transition-duration: ${i.transitionDuration}ms`),m=P(()=>typeof i.modelValue=="string"||typeof i.modelValue=="number"?i.modelValue:String(i.modelValue)),C=P(()=>({include:i.keepAliveInclude,exclude:i.keepAliveExclude,max:i.keepAliveMax})),E=P(()=>i.keepAliveInclude!==void 0||i.keepAliveExclude!==void 0);ie(()=>i.modelValue,(u,f)=>{const g=T(u)===!0?M(u):-1;r!==!0&&$(g===-1?0:g<M(f)?-1:1),a.value!==g&&(a.value=g,n("beforeTransition",u,f),t(()=>{n("transition",u,f)},i.transitionDuration))});function X(){q(1)}function Y(){q(-1)}function z(u){n("update:modelValue",u)}function T(u){return u!=null&&u!==""}function M(u){return e.findIndex(f=>f.props.name===u&&f.props.disable!==""&&f.props.disable!==!0)}function G(){return e.filter(u=>u.props.disable!==""&&u.props.disable!==!0)}function $(u){const f=u!==0&&i.animated===!0&&a.value!==-1?"q-transition--"+(u===-1?h.value:d.value):null;l.value!==f&&(l.value=f)}function q(u,f=a.value){let g=f+u;for(;g!==-1&&g<e.length;){const _=e[g];if(_!==void 0&&_.props.disable!==""&&_.props.disable!==!0){$(u),r=!0,n("update:modelValue",_.props.name),setTimeout(()=>{r=!1});return}g+=u}i.infinite===!0&&e.length!==0&&f!==-1&&f!==e.length&&q(u,u===-1?e.length:-1)}function F(){const u=M(i.modelValue);return a.value!==u&&(a.value=u),!0}function V(){const u=T(i.modelValue)===!0&&F()&&e[a.value];return i.keepAlive===!0?[A(ue,C.value,[A(E.value===!0?c(m.value,()=>({...I,name:m.value})):I,{key:m.value,style:v.value},()=>u)])]:[A("div",{class:"q-panel scroll",style:v.value,key:m.value,role:"tabpanel"},[u])]}function J(){if(e.length!==0)return i.animated===!0?[A(re,{name:l.value},V)]:V()}function Q(u){return e=oe(H(u.default,[])).filter(f=>f.props!==null&&f.props.slot===void 0&&T(f.props.name)===!0),e.length}function Z(){return e}return Object.assign(o,{next:X,previous:Y,goTo:z}),{panelIndex:a,panelDirectives:p,updatePanelsList:Q,updatePanelIndex:F,getPanelContent:J,getEnabledPanels:G,getPanels:Z,isValidPanelName:T,keepAliveProps:C,needsUniqueKeepAliveWrapper:E,goToPanelByOffset:q,goToPanel:z,nextPanel:X,previousPanel:Y}}export{ce as T,ge as a,ye as b,be as c,pe as d,me as e,he as u};
